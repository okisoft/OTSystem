<% provide(:title, '質問入力画面') %>
<h1>質問入力画面</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_for(@question) do |f| %>
      <%#= render 'shared/error_messages' %>

      <% problems = Problem.where(lecture_time_id: PublicLecture.first.lecture_time_id) %>

      <% problems_array = [] %>
      <%= problems.each do |pr| %>
        <% problems_array.push([pr.name, pr.id]) %>
      <% end %>
      
      <%= f.label :problem_id %>
      <%= f.select :problem_id, problems_array, selected: problems_array.first.first, class: 'form-control' %>

      <%= f.hidden_field :user_id, value: current_user.id %>

      <%= f.label :content, "質問入力欄" %>
      <%= f.text_field :content, class: 'form-control' %>

      <% visibles = [['公開する', true], ['公開しない', false]] %>
      <%= f.label :visible %>
      <%= f.select :visible, visibles, selected: "公開する", class: 'form-control' %>

      <%= f.submit "送信", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
